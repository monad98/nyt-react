webpackJsonp([0],{371:function(e,t,a){"use strict";function l(){return{type:f,payload:null}}function n(e){return{type:m,payload:e}}function r(e){return function(t){t(l());var a=d+"api-key="+o+"&q="+e.qs+"&begin_date="+e.startDate+"0101&end_date="+e.endDate+"1231";fetch(a).then(function(e){return e.json()}).then(function(e){var a=e.response.docs;return t(n(a))}).catch(function(e){console.log("parsing failed",e)})}}function i(){return{type:p,payload:null}}function u(){return{type:h,payload:null}}function c(){return{type:v,payload:null}}function s(e){return function(t){t(u());fetch("/api/saved",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return console.log(e)}).then(function(){return t(c())}).catch(function(e){console.log("parsing failed",e)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.requestArticles=l,t.loadArticles=n,t.fetchArticles=r,t.clearArticles=i,t.requestSavingArticle=u,t.saveSuccess=c,t.saveArticle=s;var d="https://api.nytimes.com/svc/search/v2/articlesearch.json?",o="d8966fd97abd46028557596c31b5fd0e",f=t.REQUEST_ARTICLES="REQUEST_ARTICLES",m=(t.FETCH_ARTICLES="FETCH_ARTICLES",t.LOAD_ARTICLES="LOAD_ARTICLES"),p=t.CLEAR_ARTICLES="CLEAR_ARTICLES",h=t.REQUEST_SAVING="REQUEST_SAVING",v=t.SAVE_SUCCESS="SAVE_SUCCESS",E={isFetching:!1,isSaving:!1,articles:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1];switch(t.type){case f:return Object.assign({},e,{isFetching:!0});case m:var a=t.payload.map(function(e){return{title:e.headline.main,section:e.section_name,release:e.pub_date,author:e.byline?e.byline.original:"",url:e.web_url}});return Object.assign({},e,{articles:a,isFetching:!1});case p:return E;case h:return Object.assign({},e,{isSaving:!0});case v:return Object.assign({},e,{isSaving:!1});default:return e}};t.default=g},373:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(379),r=l(n),i=a(170),u=l(i),c=a(171),s=l(c),d=a(173),o=l(d),f=a(172),m=l(f),p=a(58),h=a(371),v=a(5),E=l(v),g=a(7),y=l(g),b=a(377),A=l(b),_=a(378),R=l(_),C={fetchArticles:h.fetchArticles,clearArticles:h.clearArticles,saveArticle:h.saveArticle},S=function(e){return{articles:e.search.articles}},N=function(e){function t(){return(0,u.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,s.default)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,l=t.name;this.setState((0,r.default)({},l,a.trim()))}},{key:"render",value:function(){var e=this.props,t=e.articles,a=e.fetchArticles,l=e.clearArticles,n=e.saveArticle;return E.default.createElement("div",null,E.default.createElement(A.default,{fetchArticles:a,handleInputChange:this.handleInputChange,clearArticles:l}),t.length>0&&E.default.createElement(R.default,{articles:t,saveArticle:n}))}}]),t}(v.Component);N.propTypes={articles:y.default.array.isRequired,fetchArticles:y.default.func.isRequired,clearArticles:y.default.func.isRequired,saveArticle:y.default.func.isRequired},t.default=(0,p.connect)(S,C)(N)},374:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),r=l(n),i=a(7),u=l(i),c=function(e){var t=e.idx,a=e.title,l=e.author,n=e.section,i=e.release,u=e.url;return r.default.createElement("div",null,r.default.createElement("h3",null,r.default.createElement("i",{className:"label label-info"},t),r.default.createElement("a",{target:"_blank",href:u},a)),r.default.createElement("p",null,l),r.default.createElement("p",null,"Section: ",n),r.default.createElement("p",null,"Release: ",i),r.default.createElement("a",{target:"_blank",href:u},"URL: ",u))};c.propTypes={idx:u.default.number.isRequired,title:u.default.string.isRequired,author:u.default.string,section:u.default.string.isRequired,release:u.default.string.isRequired,url:u.default.string.isRequired},t.default=c},376:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),r=l(n),i=a(7),u=l(i),c=function(e){var t=e.saveArticle,a=e.article;return r.default.createElement("div",null,r.default.createElement("button",{onClick:t.bind(null,a),className:"pull-right btn btn-info"},"Save Article"))};c.propTypes={saveArticle:u.default.func.isRequired,article:u.default.shape({title:u.default.string.isRequired,section:u.default.string.isRequired,release:u.default.string.isRequired,author:u.default.string,url:u.default.string.isRequired})},t.default=c},377:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(170),r=l(n),i=a(171),u=l(i),c=a(173),s=l(c),d=a(172),o=l(d),f=a(5),m=l(f),p=a(7),h=l(p);a(380);var v=function(e){function t(e){(0,r.default)(this,t);var a=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClickClearBtn=a.handleClickClearBtn.bind(a),a.initState(),a}return(0,o.default)(t,e),(0,u.default)(t,[{key:"initState",value:function(){this.state={qs:"",numberOfArticles:10,startDate:"2016",endDate:"2017"}}},{key:"handleClickClearBtn",value:function(){var e=this.props.clearArticles;this.initState(),e()}},{key:"render",value:function(){var e=this.props,t=e.fetchArticles,a=e.handleInputChange;return a=a.bind(this),m.default.createElement("div",{className:"panel panel-primary"},m.default.createElement("div",{className:"panel-heading"},m.default.createElement("h3",{className:"panel-title"},m.default.createElement("i",{className:"glyphicon glyphicon-list-alt"})," Search New York Times Articles")),m.default.createElement("div",{className:"panel-body"},m.default.createElement("div",{className:"form"},m.default.createElement("form",null,m.default.createElement("div",{className:"form-group"},m.default.createElement("label",{id:"search-label",htmlFor:"search"},"Search Term"),m.default.createElement("input",{onChange:a,value:this.state.qs,type:"search",name:"qs",className:"form-control",id:"search",placeholder:"google, election, war..."})),m.default.createElement("div",{className:"form-group"},m.default.createElement("label",{htmlFor:"number"},"Number of Articles to Retrieve"),m.default.createElement("select",{onChange:a,value:this.state.numberOfArticles,className:"form-control",id:"number",name:"numberOfArticles"},m.default.createElement("option",null,"1"),m.default.createElement("option",null,"5"),m.default.createElement("option",null,"10"))),m.default.createElement("div",{className:"form-group"},m.default.createElement("label",{htmlFor:"start-year"},"Start Year (Optional)"),m.default.createElement("input",{onChange:a,name:"startDate",type:"text",className:"form-control",id:"start-year",placeholder:"2016"})),m.default.createElement("div",{className:"form-group"},m.default.createElement("label",{htmlFor:"end-year"},"End Year (Optional)"),m.default.createElement("input",{onChange:a,name:"endDate",type:"text",className:"form-control",id:"end-year",placeholder:"2017"}))),m.default.createElement("div",null,m.default.createElement("button",{onClick:t.bind(null,this.state),className:"btn btn-primary"},m.default.createElement("i",{className:"glyphicon glyphicon-search"})," Search"),m.default.createElement("button",{onClick:this.handleClickClearBtn,className:"btn btn-default"},m.default.createElement("i",{className:"glyphicon glyphicon-trash"})," Clear Result")))))}}]),t}(f.Component);t.default=v,v.propTypes={fetchArticles:h.default.func.isRequired,handleInputChange:h.default.func.isRequired,clearArticles:h.default.func.isRequired}},378:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),r=l(n),i=a(374),u=l(i),c=a(376),s=l(c),d=a(7),o=l(d),f=function(e){var t=e.saveArticle,a=e.articles;return r.default.createElement("div",{className:"panel panel-primary"},r.default.createElement("div",{className:"panel-heading"},r.default.createElement("h3",{className:"panel-title"},r.default.createElement("i",{className:"glyphicon glyphicon-th-list"})," Top Articles ")),r.default.createElement("div",{className:"panel-body"},a.map(function(e,a){return r.default.createElement("div",{key:a,className:"row"},r.default.createElement("div",{className:"col-sm-10 col-lg-10 col-md-10"},r.default.createElement(u.default,{idx:a+1,title:e.title,section:e.section,release:e.release,author:e.author,url:e.url})),r.default.createElement("div",{className:"col-sm-2 col-lg-2 col-md-2"},r.default.createElement(s.default,{saveArticle:t,article:e})))})))};f.propTypes={articles:o.default.arrayOf(o.default.shape({title:o.default.string.isRequired,section:o.default.string.isRequired,release:o.default.string.isRequired,author:o.default.string,url:o.default.string.isRequired})).isRequired,saveArticle:o.default.func.isRequired},t.default=f},379:function(e,t,a){"use strict";t.__esModule=!0;var l=a(174),n=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=function(e,t,a){return t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},380:function(e,t){}});
//# sourceMappingURL=0.9c41068c3cabd7190957.js.map